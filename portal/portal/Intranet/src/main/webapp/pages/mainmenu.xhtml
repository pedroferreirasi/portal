<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/template/template.xhtml"> 

    <ui:define name="Titulo">
        Home
    </ui:define>


    <ui:define name="nomeDaPagina">

    </ui:define>

    <ui:define name="corpo">
        <script type="text/javascript" src="js/primefaces-locale.js"></script>
		<!-- Main content -->
		<section class="content">
			<!-- Main row -->
			<div class="row">
				<!-- Left col -->
				<section class="col-lg-12 connectedSortable">

					<div class="row">
						<div class="col-md-2" >
							<!-- Profile Image -->
							<p:panel styleClass="box-primary">
							  <img class="profile-user-img img-responsive img-circle"
								   src="#{autenticacaoController.fotoAvatar}"
									alt="User profile picture" height="128" width="128" />

							  <h3 class="profile-username text-center">
										#{autenticacaoController.entity.nomeUsuario}
										#{autenticacaoController.entity.sobreNomeUsuario}</h3>

							  <p class="text-muted text-center">
										#{autenticacaoController.entity.cargo.descricao}</p>
									
							  <h:form>
							    <a href="#{request.contextPath}/pages/meuperfil.xhtml" class="btn btn-primary btn-block"><b>Editar</b></a>
							  </h:form>							
							</p:panel>						
							
							<!-- CALENDARIO 
							<p:panel header="Calendário" styleClass="box-primary" style="height: 300px">

							</p:panel>-->
							<br />							
						</div>										
						
						<!-- /.col -->
						<div class="col-md-7">
						  <p:panel header="Noticias" styleClass="post clearfix">
							<h:form id="formpmural">
								<div class="form-group margin-bottom-none">
									<div class="col-sm-10">
									  <p:textEditor widgetVar="editor1" value="#{muralMB.entity.texto}" height="100" 
									                placeholder="Escreva sua postagem"
									                style="margin-bottom:10px"/>

									</div>
									<div class="col-sm-2">
                                       <p:commandButton value=" Enviar "
                                                        action="#{muralMB.salvar}"
                                                        update="@this"
                                                        ajax="false"                                     
                                                        styleClass="btn btn-danger pull-right btn-block btn-sm" />
									</div>
								</div>
							</h:form>						  						  
						  </p:panel>

							
							<!-- Post -->
							<ui:repeat value="#{muralMB.listaEntity}" var="item">
							  <p:panel style="margin-top: 7px" styleClass="card">
							    <div class="post clearfix">
								  <div class="user-block">
								    <img class="img-circle img-bordered-sm"
										 src="#{request.contextPath}/resources/dist/img/avatar5.png"
										 alt="User Image" /> 
								    <span class="username"> 
									  <a href="#">
									    <p:outputLabel id="usuariom" value="#{item.usuario.nomeUsuario} " />&#160;
										<p:outputLabel id="usuariom2" value="#{item.usuario.sobreNome}" />
									  </a> 
									  <a href="#" class="pull-right btn-box-tool">
									    <i class="fa fa-times"></i>
									  </a>
									</span> 
									  <span class="description">Mensagem enviada - #{item.quantidadeDiasEnviado} dia(s)</span>
								  </div>
								    <!-- /.user-block -->
									<h:outputLabel value="#{item.texto}" escape="false" />
															
								</div>
								<!-- /.post -->
								<f:facet name="footer">
								  <img src="../resources/images/unlike.png" /> &#160; Curtir &#160; &#160; &#160; &#160;
								  <img src="../resources/images/descomentar.png" /> &#160; Comentar
								</f:facet>								
							  </p:panel>
							  <!--  <p:panel>
    <p:textEditor widgetVar="resposta" value="" height="50" style="margin-bottom:10px" placeholder="Escreva um comentário">
        <f:facet name="toolbar">
             <span class="ql-formats">
                <button class="ql-bold"></button>
                <button class="ql-italic"></button>
                <button class="ql-underline"></button>
                <button class="ql-strike"></button>
            </span>
            <span class="ql-formats">
                <select class="ql-font"></select>
                <select class="ql-size"></select>
            </span>
        </f:facet>
    </p:textEditor>							  
							  </p:panel>-->
						    </ui:repeat>
						</div>
						<!-- /.col -->
						
						
						<div class="col-md-3" >

							<p:panel header="Aniversariantes" styleClass="box-success" style="height: 310px">
							  <ui:repeat value="#{colaboradorController.listAniversariantes}" var="item">
							    <img src="../resources/images/icon-gift.png" />&#160;  							  
							    <p:outputLabel value="#{item.dadosPessoais.dataNascimento}">
							      <f:convertDateTime pattern="dd/MM/yyyy" />
							    </p:outputLabel> - 
							    <p:outputLabel value="#{item.nomeCompleto}" /><br /><br />
							  </ui:repeat>
							</p:panel>
							<br />

							<!-- CALENDARIO -->
							<p:panel header="Calendário" styleClass="box-danger" >
							  <div>
                                <p:schedule id="schedule" value="#{eventoMB.eventModel}" 
                                            widgetVar="myschedule" 
                                            locale="pt"
                                            timeZone="GMT+2"></p:schedule>
                              </div>
							</p:panel>					
						</div>						
						
						
						
					</div>
					<!-- /.row -->
				</section>
			</div>
			<!-- /.row (main row) -->
		</section>
		<!-- /.content -->
    </ui:define>

</ui:composition>